= Understanding the challenge
:navtitle: 1: Understand the customer sentiments
:numbered:


== Understanding Challenge:

The Product Manager and Business Unit understands customer feedback from the live online retail e-commerce website using intelligent application leveraging sentiment analysis as well as historical sentiments using grafana dashboard providing important data driven decision making capability.


== Solution:

. Sign in to the Smart Retail Application using the credentials for user 'asilva' to submit feedback for the clothing product, adhering to the details provided below:

+
****
[upperalpha]

.. Find the login details for accessing Smart Retail Application below:
... *Web Url:* https://globex-web-sentiment-analysis.{openshift_cluster_ingress_domain}[window=_blank]
... *Username:* asilva
... *Password:* openshift

+
.Smart Retails Main Page
image::01_coolstore_login.jpg[login, 640]

+
.Smart Retails Login Page
image::01_coolstore_login_creds.jpg[login, 640]
****


. You have the option to share feedback for the Smart Retail Application product, following the details provided below:

+
****
[upperalpha]

.. Click on `Coolstore` tab from the top.
+
.Smart Retails Home Page
image::01_coolstore_feedback-1.jpg[Review, 640]

.. Click on `QUARKUS T-SHIRT`.
+
.Smart Retails Products Page
image::01_coolstore_feedback-2.jpg[Review, 640]

.. Type something which is a negative sentiments as feedback for eg: "Not a good product to buy, will not recommend" in the review box then click `Submit Review` button.
+
.Smart Retails Review Page
image::01_coolstore_feedback-3.jpg[Review, 640]
****

.. Similarly add couple of more comments, one good and one bad so that we have more than 660% negative sentiments on grafana dashboard.
Excellent T-Shirt to have.
Waste of money. Do not buy this product as its over prized and not good.

.. You will see Thank You message once you submit your review. After a few seconds you will see that same message in the bottom of that product page as Customer review.

. This will push the comments to kafka message queue and is picked up by intelligent sentiment analysis application to analyse the sentiment of this comment.
Once its analyzed, it will send the comment along with sentiment to another kafka message queue.
Note that there is another application running and which moderates the comments which are not using proper language or are abusive in nature. Those messages are then discarded.
This output is then moved to a Time Series InfluxDB database for storing the results for dashboard and historical purpose as well as to another database from where its visible back to the GLOBEX UI as customer comments.
Grafana then pull this data from influxdb database and provides you/management with graphical insights for data driven decision making capability.

. Access the Grafana Dashboard to understand overall historical trend and customer sentiments.

+
****
[upperalpha]

.. Find the login details for accessing Grafana Dashboard below:
... *Grafana Dashboard:* https://grafana-route-influxdb-project.{openshift_cluster_ingress_domain}[window=_blank]
... *Username:* admin
... *Password:* graphsRcool
+
.Grafana Dashboard Login Page
image::03_grafana_dashboard_login.jpg[Grafana Dashboard Login, 400]

.. Navigate to 'Search or Jump to' (its at the top middle section of the page) and select the 'GLOBEX Sentiment Analysis Dashboard'
+
.GLOBEX Sentiment Analysis Dashboard Page
image::03_globex_grafana_dashboard.jpg[GLOBEX Sentiment Analysis Dashboard, 640]

.. Post the earlier 3 customer comments, you will see dashboard with more than 60% negative sentiment.
This dashboard shows that the KPI (Key Performance Indicator of more than 60% positive sentiments) for GLOBEX Clothing Product Manager is not met and so the PM needs to do something to get the KPI of positive sentiments back to more than 60%. That is when a marketing strategy is evolved and data scientist team is roped in.
+
.Grafana Dashboard showing KPI not met for clothing product category Page
image::03_negative_kpi.jpg[Grafana Dashboard showing KPI not met for clothing product category, 640]
****

. Before we move onto implementing the marketing strategy to improve the KPI for clothing product category, lets understand the technical aspects of how the above sentiment analysis works.

+
****
[upperalpha]

.. Find the login details for accessing Openshift Console below:
... *Console URL:* {openshift_console_url}[window=_blank]
... *Username:* {openshift_cluster_admin_username}
... *Password:* {openshift_cluster_admin_password}

+
.OpenShift Console Login Page
image::06_openshift_login-1.jpg[OpenShift, 560]

+
.OpenShift Console Login Page
image::06_openshift_login-2.jpg[OpenShift, 600]

****


. Log in to the Automation Controller to observe the job triggered by Event-driven Ansible upon submitting feedback. The Automation Controller job is designed to post formatted feedback in RocketChat. This feature ensures that the product manager can efficiently monitor feedback and take timely actions as needed. Refer to the details provided below for a comprehensive overview of this integration process.

+
****
[upperalpha]

.. Find the login details for accessing Automation Controller below:
... *Automation Controller:* https://globex-web-sentiment-analysis.{openshift_cluster_ingress_domain}[window=_blank]
... *Username:* {aap_controller_admin_user}
... *Password:* {aap_controller_admin_password}

+
.Automation Controller Login Page
image::04_controller_login-1.jpg[Automation_Controller,350]

.. Navigate to 'Jobs' and observe the latest executed job, identified as 'X - push-favourable-feedback.' This allows you to review the details of the most recent execution, providing insights into the actions taken as a result of the triggered event.
+
.Automation Controller Jobs Page
image::04_controller_job-1.jpg[Automation_Controller,640]

.. Select 'X - push-favourable-feedback' to view and analyze the logs associated with this specific job. By examining the logs, you can gain a deeper understanding of the processes and actions carried out during the execution of this particular task.
+
.Automation Controller Jobs Details
image::04_controller_job-2.jpg[Automation_Controller,640]

****

. Access the RocketChat monitoring system to view the latest message posted by the Automation Controller. The details are provided below, offering insights into the formatted feedback generated by the system:

* Message Source: Smart Retail Application
* Message Triggered by: Event-driven Ansible
* Message Posted by: Automation Controller
* Content: [_USER SENTIMENT: positive, PRODUCT_CATEGORY: clothing, PRODUCT_ID: 329299, PRODUCT_NAME: Quarkus T-shirt, USER NAME: Addison Silva, REGION: USA, REVIEW: This good product, SCORE: 2_]

+
This allows for convenient monitoring by the product manager, facilitating timely actions based on the received feedback.

+
****
[upperalpha]

.. Find the login details for accessing RocketChat below:
... *RocketChat Url:* {rocketchat_url}[window=_blank]
... *Username:* pm_clothing
... *Password:* {rocketchat_admin_password}

+
.RocketChat Login page
image::05_rocketchat_login-1.jpg[Rocketchat, 640]

.. Navigate to the #clothing channel and review the new message that contains the original feedback, along with additional product details. This comprehensive information is designed to assist the product manager in monitoring the products effectively. Insights provided in the message contribute to informed decision-making and proactive actions based on customer feedback.
+
.RocketChat Channels
image::05_rocketchat_login-2.jpg[Rocketchat, 640]

****

== Summary:

In summary, the Product Manager adeptly integrates customer feedback from the live online retail e-commerce website into the chat monitoring system, fostering a seamless process for timely and proactive responses. This harmonized approach ensures a dynamic and customer-focused engagement strategy.

*Kindly proceed to the next page as we delve into the seamless integration of the ChatOps system with Event-Driven Ansible.*
